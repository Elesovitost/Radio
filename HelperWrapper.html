<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Helper</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const params = new URLSearchParams(window.location.search);
    const file = params.get('file');

    if (file) {
        const filename = file.split('/').pop().split('\\').pop();
        const nameWithoutHelper = filename.replace(/^Helper\s*/i, "").replace(/\.[^/.]+$/, "");

        const htmlContent = `
            <div class="MainDIV">
                <div class="standardwidth mydiv0">${nameWithoutHelper}</div>
                <img src="${file}" style="max-width:100%; display:block; margin:20px auto;">
            </div>
        `;

        document.body.innerHTML = htmlContent;

        // Po vložení obsahu je potřeba aktualizovat výšku iframu
        // Toto je signál pro rodičovskou stránku (index.html)
        setTimeout(() => {
            if (window.parent && typeof window.parent.updateIframeHeight === 'function') {
                window.parent.updateIframeHeight(window.frameElement);
            }
        }, 100);
    }
});
</script>

</body>
</html>